<div class="profile-container">
    <div *ngIf="loading" class="loading-overlay">
        <div class="spinner"></div>
        <p>Cargando estad√≠sticas del perfil...</p>
    </div>

    <div class="header">
        <div class="system-info">
            <span class="indicator"></span>
            SECURE CONNECTION ESTABLISHED
        </div>
        <div class="title">
            <span class="highlight">PROFILE</span>
        </div>
        <div class="status">
            <span class="status-indicator"></span>
            STATUS: <span class="online">ONLINE</span>
        </div>
    </div>

    <div class="content">
        <div class="left-panel">
            <div class="user-card">
                <div class="avatar-container">
                    <div class="avatar"></div>
                    <div class="level-badge">LVL {{ level }}</div>
                </div>
                <div class="user-name">{{ name }}</div>
                <div class="user-class">USERNAME: @{{ username }}</div>
            </div>

            <div class="level-section">
                <div class="section-label">TOTAL LEVEL</div>
                <div class="level-number">{{ level }}</div>
            </div>

            <div class="level-section">
                <div class="section-label">PROFILE LEVEL</div>
                <div class="level-number">{{ profileLevel }}</div>
            </div>

            <div class="xp-section">
                <div class="xp-label">XP PROGRESS</div>
                <div class="xp-bar">
                    <div class="xp-fill" [style.width.%]="xpPercent"></div>
                </div>
                <div class="xp-text">
                    <span>{{ xpCurrent }} / {{ xpMax }}</span>
                </div>
            </div>

            <div class="stats-row">
                <div class="stat-card">
                    <div class="stat-icon fire">üî•</div>
                    <div class="stat-value">{{ dayStreak }}</div>
                    <div class="stat-label">DAY STREAK</div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon trophy">üèÜ</div>
                    <div class="stat-value">{{ achievements }}</div>
                    <div class="stat-label">ACHIEVEMENTS</div>
                </div>
            </div>
        </div>

        <div class="right-panel">
            <div class="radar-section">
                <div class="section-header">
                    <div class="section-title">
                        <span class="icon">ÔøΩ</span>
                        PERFIL DEL USUARIO
                    </div>
                    <div class="live-data">LIVE DATA</div>
                </div>

                <div class="radar-content">
                    <div class="profile-data-grid">
                        <!-- Datos Personales -->
                        <div class="data-section">
                            <div class="data-section-header">
                                <h3 class="data-section-title">üìã DATOS PERSONALES</h3>
                                <button class="edit-btn" (click)="openPersonalModal()">
                                    ‚úèÔ∏è Editar
                                </button>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Nombre Completo:</span>
                                <span class="data-value">{{ user?.nombre }} {{ user?.apellido }}</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Edad:</span>
                                <span class="data-value">{{ user?.edad }} a√±os</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Email:</span>
                                <span class="data-value">{{ user?.email }}</span>
                            </div>
                        </div>

                        <!-- Datos F√≠sicos -->
                        <div class="data-section">
                            <div class="data-section-header">
                                <h3 class="data-section-title">üí™ DATOS F√çSICOS</h3>
                                <button class="edit-btn" (click)="openPhysicalModal()">
                                    ‚úèÔ∏è Editar
                                </button>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Peso:</span>
                                <span class="data-value">{{ weight > 0 ? weight + ' kg' : 'N/A' }}</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Altura:</span>
                                <span class="data-value">{{ height > 0 ? height + ' cm' : 'N/A' }}</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">IMC:</span>
                                <span class="data-value" [class.highlight]="imc > 0">{{ imc > 0 ? imc : 'N/A' }} - {{ imcCategory }}</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">% Grasa Corporal:</span>
                                <span class="data-value">{{ bodyFat > 0 ? (bodyFat | number:'1.1-1') + '%' : 'N/A' }}</span>
                            </div>
                        </div>

                        <!-- Experiencia y Actividad -->
                        <div class="data-section">
                            <div class="data-section-header">
                                <h3 class="data-section-title">üéØ EXPERIENCIA</h3>
                                <button class="edit-btn" (click)="openExperienceModal()">
                                    ‚úèÔ∏è Editar
                                </button>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Nivel de Entrenamiento:</span>
                                <span class="data-value highlight">{{ trainingLevel }}</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Meses de Experiencia:</span>
                                <span class="data-value">{{ experienceMonths }} meses</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Nivel de Actividad:</span>
                                <span class="data-value">{{ activityLevel }}</span>
                            </div>
                        </div>

                        <!-- Estado del Sistema RPG -->
                        <div class="data-section">
                            <div class="data-section-header">
                                <h3 class="data-section-title">‚ö° SISTEMA RPG</h3>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Stamina:</span>
                                <span class="data-value">{{ stamina }}</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Rutinas Completadas:</span>
                                <span class="data-value">{{ totalWorkouts }}</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Ejercicios Realizados:</span>
                                <span class="data-value">{{ totalExercises }}</span>
                            </div>
                            <div class="data-row">
                                <span class="data-label">Tiempo Total:</span>
                                <span class="data-value">{{ totalTrainingTime }} min</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>